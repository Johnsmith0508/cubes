<!doctype html>
<html>

<head>
	<title>Cubes</title>
	<style>
		#messages {
			list-style-type: none;
			margin: 0;
			padding: 0;
		}
		#messages li {
			opacity: .5;
			padding: 5px 10px;
		}
		#messages li:nth-child(odd) {
			background-color: #4c4c4c;
		}
		#messages li:nth-child(even) {
			background-color: #707070;
		}
		div.chat {
			position: absolute;
			top: 0;
			right: 0px;
			width: 350px;
			height: 500px;
		}
		ul#messages {
			overflow: auto;
			height: 95%;
		}
		input#msgIn {
			position: absolute;
			bottom: 0px;
			width: 66.66%;
		}
		button#send {
			position: absolute;
			bottom: 0px;
			right: 0px;
			width: 33.33%;
		}
	</style>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/three.js/r72/three.min.js"></script>
	<script src="/fonts/helvetiker_regular.typface.js"></script>
	<script src="/fonts/helvetiker_bold.typeface.js"></script>
	<script src="/socket.io/socket.io.js"></script>
</head>

<body>
	<input id="name" type="text" defaultValue="name"></input>
	<input id="submit" type="submit"></input>
	<script src="/client.js"></script>
	<div class="chat">
		<ul id="messages"></ul>
  	<input id="msgIn" autocomplete="off"/>
		<button id="send">Send</button>

    <script>
      $('#send').on('click',function(){
        socket.emit('chat message', $('#msgIn').val());
        $('#msgIn').val('');
        return false;
      });
			$('#msgIn').on('keyup',function(e)
		{
			if(e.keyCode == 13) {
				$('#send').trigger('click');
			}
		});
      socket.on('chat message', function(payload){
        $('#messages').append($('<li>').text(payload.name + ': ' + payload.msg));
      });
    </script>
	</div>
</body>

</html>

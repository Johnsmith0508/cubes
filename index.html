<!doctype html>
<html>

<head>
	<title>Cubes</title>
	<link rel="stylesheet" type="text/css" href="stylesheet.css" />
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/three.js/r72/three.min.js"></script>
	<script src="/fonts/helvetiker_regular.typface.js"></script>
	<script src="/fonts/helvetiker_bold.typeface.js"></script>
	<script src="/socket.io/socket.io.js"></script>
</head>

<body>
	<div id="login" >
            <h1>Enter a user name</h1>
		<input id="name" type="text" defaultValue="name"></input>
		<input id="sendName" type="submit"></input>
	</div>
	<div id="main_window" hidden>
		<script src="/client.js"></script>
		<div class="chat">
			<ul id="messages"></ul>
	  	<input id="msgIn" autocomplete="off"/>
			<button id="send">Send</button>

	    <script>
	      $('#send').on('click',function(){
	        socket.emit('chat message', $('#msgIn').val());
	        $('#msgIn').val('');
	        return false;
	      });
				$('#msgIn').on('keyup',function(e)
			{
				if(e.keyCode == 13) {
					$('#send').trigger('click');
				}
			});
	      socket.on('chat message', function(payload){
	        $('#messages').append($('<li>').text(payload.name + ': ' + payload.msg));
	      });
	    </script>
		</div>
	</div>
</body>

</html>
